<?xml version="1.0" encoding="UTF-8"?>

<tc:tc-config xmlns:tc="http://www.terracotta.org/config">
  <!-- Server is colocated with client and DSO is listening on
       default port (9510). -->
  <servers>
    <server name="localhost"/>
  </servers>

  <clients>
    <logs>%(user.home)/terracotta/inventory/client-logs</logs>
  </clients>

  <application>
    <spring>
      <jee-application name="*">
        <application-contexts>
          <application-context>
            <paths>
              <path>*/inventory.xml</path>
            </paths>
            <beans>
              <bean name="store" />
            </beans>
          </application-context>
        </application-contexts>

        <instrumented-classes>
          <include>
            <class-expression>test..*</class-expression>
          </include>
        </instrumented-classes>

        <locks>
          <autolock>
            <method-expression>* test..*.*(..)</method-expression>
            <lock-level>write</lock-level>
          </autolock>
        </locks>
      </jee-application>
    </spring>
  </application>

</tc:tc-config>
